https://medium.com/@nishankjaintdk/setting-up-a-node-js-app-on-a-linux-ami-on-an-aws-ec2-instance-with-nginx-59cbc1bcc68c


<div class="section-inner sectionLayout--insetColumn"><h1 name="a261" id="a261" class="graf graf--h3 graf--leading graf--title">Setting up a Node.js app on a Linux AMI on an AWS EC2 instance with&nbsp;Nginx</h1><h3 name="5a49" id="5a49" class="graf graf--h3 graf-after--h3">Introduction</h3><p name="a929" id="a929" class="graf graf--p graf-after--h3"><a href="https://nodejs.org/en/" data-href="https://nodejs.org/en/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Node.js</em></strong></a> is a JavaScript runtime environment that allows one to run JS on the server. It is built on the open-source <a href="https://developers.google.com/v8/" data-href="https://developers.google.com/v8/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">V8 JavaScript engine</em></strong></a> used in Chrome and written in C++ which executes JS in a standalone environment.</p><p name="9c9e" id="9c9e" class="graf graf--p graf-after--p"><a href="https://aws.amazon.com/" data-href="https://aws.amazon.com/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">AWS</em></strong></a> (Amazon Web Services), a subsidiary of Amazon, is a cloud computing platform which provides resources for computation such as EC2 instances, various database and storage facilities as well as networking and content delivery options.</p><p name="3928" id="3928" class="graf graf--p graf-after--p"><a href="https://www.nginx.com" data-href="https://www.nginx.com" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Nginx</em></strong></a><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em"> </em></strong>is a free and open-source HTTP server which doubles up as a reverse proxy server or as a mail proxy server. It is a high performance server with simple configuration options and low resource consumption.</p><p name="26a9" id="26a9" class="graf graf--p graf-after--p"><a href="https://aws.amazon.com/ec2/" data-href="https://aws.amazon.com/ec2/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">EC2</em></strong></a> (Elastic Compute Cloud) is a web service which provides computing power in the form of scalable server instances. Multiple EC2 instances are run on the same machine inside Amazonâ€™s computing infrastructure. When an EC2 instance is initiated, a set amount of resources (OS, RAM, Disk Space etc., chosen at the time of initiation) are allotted to the user from the machine it runs on. This allows sharing of resources between multiple users.</p><p name="1309" id="1309" class="graf graf--p graf-after--p"><a href="https://aws.amazon.com/amazon-linux-ami/" data-href="https://aws.amazon.com/amazon-linux-ami/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Linux AMI</em></strong></a> is a copy of Linux (image) provided by AWS which can be used for free on an EC2 instance as an OS. It can contain pre-installed packages such as Python, MySQL, Node.js etc., depending on the chosen AMI.</p><h3 name="4282" id="4282" class="graf graf--h3 graf-after--p">Things to&nbsp;do</h3><ol class="postList"><li name="7210" id="7210" class="graf graf--li graf-after--h3">Create an AWS account</li><li name="3b95" id="3b95" class="graf graf--li graf-after--li">Launch an EC2 instance</li><li name="aa7b" id="aa7b" class="graf graf--li graf-after--li">SSH into your instance</li><li name="4e59" id="4e59" class="graf graf--li graf-after--li">Install Node.js</li><li name="9ae9" id="9ae9" class="graf graf--li graf-after--li">Install Git and clone repository from GitHub</li><li name="9e67" id="9e67" class="graf graf--li graf-after--li">Start the node.js app</li><li name="99e0" id="99e0" class="graf graf--li graf-after--li">Keep the app running</li><li name="7ced" id="7ced" class="graf graf--li graf-after--li">Move the app to port 80 (not really)</li><li name="ec11" id="ec11" class="graf graf--li graf-after--li">Configure Nginx to autostart on instance reboot</li></ol><h3 name="47f1" id="47f1" class="graf graf--h3 graf-after--li">Create an AWS&nbsp;account</h3><p name="e418" id="e418" class="graf graf--p graf-after--h3">Go to <a href="https://aws.amazon.com" data-href="https://aws.amazon.com" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">AWS</em></strong></a>, click on <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Create an AWS account</em></strong>. If you are already registered, sign in, else create a new account. A new account lets you try the free tier for 12 months. Choose <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Personal Account</em></strong> unless you have a business setup for which you will need the company details.</p><figure name="b258" id="b258" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 479px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 68.5%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded" data-image-id="1*y6Qmrx8juIZS2BFmiVWw_Q.png" data-width="993" data-height="680" data-action="zoom" data-action-value="1*y6Qmrx8juIZS2BFmiVWw_Q.png" data-scroll="native"><img src="https://cdn-images-1.medium.com/freeze/max/38/1*y6Qmrx8juIZS2BFmiVWw_Q.png?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="51"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1000/1*y6Qmrx8juIZS2BFmiVWw_Q.png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1000/1*y6Qmrx8juIZS2BFmiVWw_Q.png"></noscript></div></div><figcaption class="imageCaption"><strong class="markup--strong markup--figure-strong">Create a personal AWS&nbsp;account</strong></figcaption></figure><p name="fe1c" id="fe1c" class="graf graf--p graf-after--figure">You will have to enter your card details for a small refundable charge to verify your identity. Once the registration is confirmed, you can go to the console.</p><figure name="d9e8" id="d9e8" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 348px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 49.7%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded" data-image-id="1*qZuA5CjmI1DwtcXMoAxOdA.png" data-width="1330" data-height="661" data-action="zoom" data-action-value="1*qZuA5CjmI1DwtcXMoAxOdA.png" data-scroll="native"><img src="https://cdn-images-1.medium.com/freeze/max/38/1*qZuA5CjmI1DwtcXMoAxOdA.png?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="35"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1000/1*qZuA5CjmI1DwtcXMoAxOdA.png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1000/1*qZuA5CjmI1DwtcXMoAxOdA.png"></noscript></div></div><figcaption class="imageCaption"><strong class="markup--strong markup--figure-strong">AWS Service Dashboard (after registration)</strong></figcaption></figure><h3 name="15d6" id="15d6" class="graf graf--h3 graf-after--figure">Launch an EC2&nbsp;instance</h3><p name="c9cd" id="c9cd" class="graf graf--p graf-after--h3">Now that the account is setup, you are ready to launch an EC2 instance. Select EC2 from the Services dropdown (top-left), click on <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Launch Instance</em></strong> and select <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Free Tier Only</em></strong>.</p><figure name="635e" id="635e" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 320px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 45.7%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded" data-image-id="1*yqITa9p2Eo-5NKqn6eUJBw.png" data-width="1358" data-height="620" data-action="zoom" data-action-value="1*yqITa9p2Eo-5NKqn6eUJBw.png" data-scroll="native"><img src="https://cdn-images-1.medium.com/freeze/max/38/1*yqITa9p2Eo-5NKqn6eUJBw.png?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="33"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1000/1*yqITa9p2Eo-5NKqn6eUJBw.png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1000/1*yqITa9p2Eo-5NKqn6eUJBw.png"></noscript></div></div><figcaption class="imageCaption"><strong class="markup--strong markup--figure-strong">Amazon Linux AMI on an EC2 instance (Free&nbsp;tier)</strong></figcaption></figure><p name="95a2" id="95a2" class="graf graf--p graf-after--figure">Select <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Amazon Linux AMI</em></strong> (which is usually the first option). On the next screen, select <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">t2.micro</em></strong> (will be highlighted as Free tier eligible).</p><figure name="a352" id="a352" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 337px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 48.199999999999996%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded" data-image-id="1*oHSjU9HrxjA0nbdsxNusqg.png" data-width="1360" data-height="655" data-action="zoom" data-action-value="1*oHSjU9HrxjA0nbdsxNusqg.png" data-scroll="native"><img src="https://cdn-images-1.medium.com/freeze/max/38/1*oHSjU9HrxjA0nbdsxNusqg.png?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="35"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1000/1*oHSjU9HrxjA0nbdsxNusqg.png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1000/1*oHSjU9HrxjA0nbdsxNusqg.png"></noscript></div></div><figcaption class="imageCaption"><strong class="markup--strong markup--figure-strong">Free tier t2 micro EC2 instance&#8202;â€”&#8202;1 GB RAM and up to 30 GB free storage&nbsp;space</strong></figcaption></figure><p name="4fa5" id="4fa5" class="graf graf--p graf-after--figure">Select <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Review and Launch</em></strong> (other settings can be configured later if needed). The next screen might show a warning about the security of the instance and changing security group settings. You can ignore this for now. The only open port is 22 by default which is used for SSH access to the instance. Go ahead and click <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Launch</em></strong>.</p><figure name="bcdc" id="bcdc" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 339px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 48.4%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded" data-image-id="1*WLMTWqq0l_R3TQau6czLPw.png" data-width="1352" data-height="655" data-action="zoom" data-action-value="1*WLMTWqq0l_R3TQau6czLPw.png" data-scroll="native"><img src="https://cdn-images-1.medium.com/freeze/max/38/1*WLMTWqq0l_R3TQau6czLPw.png?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="35"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1000/1*WLMTWqq0l_R3TQau6czLPw.png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1000/1*WLMTWqq0l_R3TQau6czLPw.png"></noscript></div></div><figcaption class="imageCaption"><strong class="markup--strong markup--figure-strong">Warning about security group settings&#8202;â€”&#8202;can be ignored and&nbsp;launched</strong></figcaption></figure><p name="1930" id="1930" class="graf graf--p graf-after--figure">On the next screen, you will be asked to create a key pair which allows you to SSH into your instance. Follow the instructions to create a custom name key pair and store it somewhere on your PC where you can access it later and in the future too.</p><figure name="4635" id="4635" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 359px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 51.300000000000004%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded" data-image-id="1*3OGIOsdQrH5Y3oeqlPiDwA.png" data-width="1356" data-height="696" data-action="zoom" data-action-value="1*3OGIOsdQrH5Y3oeqlPiDwA.png" data-scroll="native"><img src="https://cdn-images-1.medium.com/freeze/max/38/1*3OGIOsdQrH5Y3oeqlPiDwA.png?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="37"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1000/1*3OGIOsdQrH5Y3oeqlPiDwA.png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1000/1*3OGIOsdQrH5Y3oeqlPiDwA.png"></noscript></div></div><figcaption class="imageCaption"><strong class="markup--strong markup--figure-strong">Create a key pair for SSH&nbsp;access</strong></figcaption></figure><p name="fd12" id="fd12" class="graf graf--p graf-after--figure">Select <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Launch Instances</em></strong> and wait for your instance to be launched. On the final screen, you can select <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">View Instances</em></strong> to go to your EC2 dashboard where you will see the instance up and running in a few minutes.</p><figure name="87e0" id="87e0" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 342px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 48.8%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded" data-image-id="1*6KSRky7KSTJbtThuqD2sXw.png" data-width="1359" data-height="663" data-action="zoom" data-action-value="1*6KSRky7KSTJbtThuqD2sXw.png" data-scroll="native"><img src="https://cdn-images-1.medium.com/freeze/max/38/1*6KSRky7KSTJbtThuqD2sXw.png?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="35"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1000/1*6KSRky7KSTJbtThuqD2sXw.png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1000/1*6KSRky7KSTJbtThuqD2sXw.png"></noscript></div></div><figcaption class="imageCaption"><strong class="markup--strong markup--figure-strong"><em class="markup--em markup--figure-em">Instance Launched</em></strong></figcaption></figure><p name="71ed" id="71ed" class="graf graf--p graf-after--figure">Your EC2 instance will be running now and you will be automatically assigned a <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Public DNS</em></strong> and an <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">IPv4 Public IP</em></strong> which you will use to SSH into the instance.</p><figure name="b629" id="b629" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 336px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 48%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded" data-image-id="1*_opNV5AHl2A3PTkTmi2xbA.png" data-width="1357" data-height="652" data-action="zoom" data-action-value="1*_opNV5AHl2A3PTkTmi2xbA.png" data-scroll="native"><img src="https://cdn-images-1.medium.com/freeze/max/38/1*_opNV5AHl2A3PTkTmi2xbA.png?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="35"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1000/1*_opNV5AHl2A3PTkTmi2xbA.png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1000/1*_opNV5AHl2A3PTkTmi2xbA.png"></noscript></div></div><figcaption class="imageCaption"><strong class="markup--strong markup--figure-strong"><em class="markup--em markup--figure-em">Instance running on a Public&nbsp;IP</em></strong></figcaption></figure><h3 name="0502" id="0502" class="graf graf--h3 graf-after--figure">SSH into your&nbsp;instance</h3><p name="f454" id="f454" class="graf graf--p graf-after--h3">Depending on the OS you are using on your PC, there are different methods to SSH into your instance. You can see the applicable method by clicking on <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Connect</em></strong> in the above screen. Since I use Windows OS, I use a third party SSH client called PuTTY to connect to the instance. You can follow the <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/putty.html" data-href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/putty.html" class="markup--anchor markup--p-anchor" rel="noopener nofollow" target="_blank"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">official tutorial</em></strong></a> on AWS docs for using PuTTY as the SSH client.</p><figure name="9c85" id="9c85" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 694px; max-height: 617px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 88.9%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded" data-image-id="1*YU1IfwwsOeV3_y-P3Jy-wA.png" data-width="694" data-height="617" data-scroll="native"><img src="https://cdn-images-1.medium.com/freeze/max/38/1*YU1IfwwsOeV3_y-P3Jy-wA.png?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="65"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1000/1*YU1IfwwsOeV3_y-P3Jy-wA.png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1000/1*YU1IfwwsOeV3_y-P3Jy-wA.png"></noscript></div></div><figcaption class="imageCaption"><strong class="markup--strong markup--figure-strong"><em class="markup--em markup--figure-em">Connect to your&nbsp;instance</em></strong></figcaption></figure><p name="2f39" id="2f39" class="graf graf--p graf-after--figure">The key pair that you saved while creating the EC2 instance will be used now to connect via SSH. Once you have established the connection you will see a terminal similar to this.</p><figure name="68b4" id="68b4" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 658px; max-height: 416px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 63.2%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded" data-image-id="1*FetfhCxO51g4-U95qHnOkg.png" data-width="658" data-height="416" data-scroll="native"><img src="https://cdn-images-1.medium.com/freeze/max/38/1*FetfhCxO51g4-U95qHnOkg.png?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="47"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1000/1*FetfhCxO51g4-U95qHnOkg.png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1000/1*FetfhCxO51g4-U95qHnOkg.png"></noscript></div></div><figcaption class="imageCaption"><strong class="markup--strong markup--figure-strong">SSH connection established with the EC2&nbsp;instance</strong></figcaption></figure><h4 name="3885" id="3885" class="graf graf--h4 graf-after--figure">PuTTY frequent disconnection /&nbsp;timeout</h4><p name="ced4" id="ced4" class="graf graf--p graf-after--h4">If you use PuTTY, you will see that the terminal frequently becomes non-responsive because of a session timeout. You can change the session settings to keep the connection alive by going to the category <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Connection</em></strong> of the loaded session and change the value of <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Seconds between keepalives</em></strong> to <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">30</em></strong>. This will enable sending empty packets to the remote server via SSH every 30 seconds to keep the session alive.</p><h3 name="75d4" id="75d4" class="graf graf--h3 graf-after--p">Install Node.js</h3><p name="b7de" id="b7de" class="graf graf--p graf-after--h3">Now that we are connected to the instance, we can start installing the required packages in the environment for your node.js app to work. We will be using <a href="https://github.com/creationix/nvm" data-href="https://github.com/creationix/nvm" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">NVM</em></strong> </a>(Node Version Manager) to install node.js as it provides a neat way to manage multiple node.js versions on the instance if required. Run the following code in the terminal to get NVM and install it.</p><pre name="7061" id="7061" class="graf graf--pre graf-after--p">curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.2/install.sh | bash</pre><p name="38ce" id="38ce" class="graf graf--p graf-after--pre">The script clones the nvm repository to ~/.nvm and adds the source line to your profile (~/.bash_profile, ~/.zshrc, ~/.profile, or ~/.bashrc). Now, run <code class="markup--code markup--p-code">nvm --version</code>. The terminal will show <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">command not found</em></strong> as the code has been added to your profile but hasnâ€™t run yet. It runs on every login, so login again by creating a new session. Run <code class="markup--code markup--p-code">nvm --version</code> again and this time you should be able to see the installed version of NVM.</p><figure name="dd69" id="dd69" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 660px; max-height: 417px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 63.2%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded" data-image-id="1*TAUfBfL3wpbegfnF9h39AA.png" data-width="660" data-height="417" data-scroll="native"><img src="https://cdn-images-1.medium.com/freeze/max/38/1*TAUfBfL3wpbegfnF9h39AA.png?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="47"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1000/1*TAUfBfL3wpbegfnF9h39AA.png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1000/1*TAUfBfL3wpbegfnF9h39AA.png"></noscript></div></div><figcaption class="imageCaption"><strong class="markup--strong markup--figure-strong">NVM installation</strong></figcaption></figure><p name="6ad6" id="6ad6" class="graf graf--p graf-after--figure">To install node, you can either use <code class="markup--code markup--p-code">nvm install node</code> to install the latest version of node or use <code class="markup--code markup--p-code">nvm install &lt;node_version&gt;</code> to install a specific version of node. Once node is installed, you can check the installed version with <code class="markup--code markup--p-code">node --version</code>.</p><figure name="f0fa" id="f0fa" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 659px; max-height: 416px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 63.1%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded" data-image-id="1*__x_ULKOa2pQMOFk6DvGqg.png" data-width="659" data-height="416" data-scroll="native"><img src="https://cdn-images-1.medium.com/freeze/max/38/1*__x_ULKOa2pQMOFk6DvGqg.png?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="45"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1000/1*__x_ULKOa2pQMOFk6DvGqg.png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1000/1*__x_ULKOa2pQMOFk6DvGqg.png"></noscript></div></div><figcaption class="imageCaption"><strong class="markup--strong markup--figure-strong">Node.js installation</strong></figcaption></figure><h3 name="9b76" id="9b76" class="graf graf--h3 graf-after--figure">Install Git and clone repository from&nbsp;GitHub</h3><p name="ec08" id="ec08" class="graf graf--p graf-after--h3">We will install Git to clone your node.js repository from your GitHub account. To install Git, run the following command.</p><pre name="e408" id="e408" class="graf graf--pre graf-after--p">sudo yum install git</pre><p name="1ba4" id="1ba4" class="graf graf--p graf-after--pre">This will install the latest version of Git on the instance. Once installation is done, you are ready to clone your repository. Run the following command to clone your repository. Replace <code class="markup--code markup--p-code">&lt;username&gt;</code>with your GitHub username, <code class="markup--code markup--p-code">&lt;repository-name&gt;</code>with the name of your node.js app repository and <code class="markup--code markup--p-code">&lt;folder-name&gt;</code>with the name of the folder you want to clone the repository into. This folder will be created under <code class="markup--code markup--p-code">/home/ec2-user/</code>.</p><pre name="b28a" id="b28a" class="graf graf--pre graf-after--p">git clone https://github.com/&lt;username&gt;/&lt;repository-name&gt;.git &lt;folder-name&gt;</pre><p name="99fb" id="99fb" class="graf graf--p graf-after--pre">Run <code class="markup--code markup--p-code">cd &lt;folder-name&gt;</code> to move inside this folder and <code class="markup--code markup--p-code">ls</code> to see its contents.</p><h3 name="f7ea" id="f7ea" class="graf graf--h3 graf-after--p">Start the node.js&nbsp;app</h3><p name="dda5" id="dda5" class="graf graf--p graf-after--h3">If your start script does not include <code class="markup--code markup--p-code">npm install</code> you should run it manually first, otherwise you can directly issue the command to start the app which should install the dependencies automatically. There are several ways to start the app depending on how you have set it up. Choose one which suits you.</p><pre name="71f6" id="71f6" class="graf graf--pre graf-after--p">node server.js<br>node app.js<br>node ./bin/www<br>npm start</pre><p name="1664" id="1664" class="graf graf--p graf-after--pre">The app will now run at the port number that you have specified in the start script. It could be 3000, 8000, 8080 etc. Make a note of this port number and enter the public DNS of the instance with the port number in the browser to see the app output. I use port 3000, you can replace it with yours.</p><pre name="ca6c" id="ca6c" class="graf graf--pre graf-after--p">http://ec2-54-191-104-59.us-west-2.compute.amazonaws.com:3000</pre><p name="ef46" id="ef46" class="graf graf--p graf-after--pre">As you will see, this will not work and there would be nothing to show on the page and the browser connection will timeout. This is because we havenâ€™t opened port 3000 for access to public. This is where the Security Group comes in. In the AWS management console, go to <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Security Groups</em></strong>, select the one not named â€˜defaultâ€™ (launch-wizard-1 or similar) and edit the <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Inbound </em></strong>rules<strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">.</em></strong></p><figure name="fd34" id="fd34" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 225px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 32.1%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded" data-image-id="1*07PnlnkoK-24Yb2gbasLyw.png" data-width="1363" data-height="438" data-action="zoom" data-action-value="1*07PnlnkoK-24Yb2gbasLyw.png" data-scroll="native"><img src="https://cdn-images-1.medium.com/freeze/max/38/1*07PnlnkoK-24Yb2gbasLyw.png?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="23"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1000/1*07PnlnkoK-24Yb2gbasLyw.png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1000/1*07PnlnkoK-24Yb2gbasLyw.png"></noscript></div></div><figcaption class="imageCaption"><strong class="markup--strong markup--figure-strong">Security Groups for the EC2&nbsp;instance</strong></figcaption></figure><p name="9fa7" id="9fa7" class="graf graf--p graf-after--figure">Add a <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">new custom TCP rule</em></strong> with port range <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">3000</em></strong> and accessible from everywhere (<strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">0.0.0.0/0</em></strong>).</p><figure name="b03e" id="b03e" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 228px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 32.6%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded" data-image-id="1*iIlzYZXjFdVTOxYnCm5zWQ.png" data-width="997" data-height="325" data-action="zoom" data-action-value="1*iIlzYZXjFdVTOxYnCm5zWQ.png" data-scroll="native"><img src="https://cdn-images-1.medium.com/freeze/max/38/1*iIlzYZXjFdVTOxYnCm5zWQ.png?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="23"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1000/1*iIlzYZXjFdVTOxYnCm5zWQ.png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1000/1*iIlzYZXjFdVTOxYnCm5zWQ.png"></noscript></div></div><figcaption class="imageCaption"><strong class="markup--strong markup--figure-strong">Inbound rules for the EC2&nbsp;instance</strong></figcaption></figure><p name="9f7e" id="9f7e" class="graf graf--p graf-after--figure">Access the URL again and you should be able to see the app content now.</p><h3 name="4a35" id="4a35" class="graf graf--h3 graf-after--p">Keep the app&nbsp;running</h3><p name="3142" id="3142" class="graf graf--p graf-after--h3">The app will run as long as you have the terminal open and you have not stopped it manually. But as soon as you close the terminal or press Ctrl-C or its equivalent, the app will stop as its process is not running in the background, itâ€™s tied to the active terminal. You can write a script to run the process in the background but you will also have to take care of restarting the process in the background in case it crashes or if you perform a pull from the repository or if you update the app in some other way. But thereâ€™s an easier way to do all this by using a process manager for node called <a href="http://pm2.keymetrics.io/" data-href="http://pm2.keymetrics.io/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">PM2</em></strong></a>. We will focus on the auto-restart and background process functionalities of PM2 here. More functionalities in a later article on continuous integration.</p><p name="5be7" id="5be7" class="graf graf--p graf-after--p">Kill all the running node processes (if any)&#8202;â€”&#8202;<code class="markup--code markup--p-code">killall -9 node</code>. Install PM2 globally with the following command:</p><pre name="f9ca" id="f9ca" class="graf graf--pre graf-after--p">npm install pm2 -g</pre><p name="9b21" id="9b21" class="graf graf--p graf-after--pre">Move to the cloned folder and execute one of the following commands depending on how you had started the app before:</p><pre name="3b23" id="3b23" class="graf graf--pre graf-after--p">pm2 start server.js<br>pm2 start app.js<br>pm2 start ./bin/www<br>pm2 start npm --name "&lt;name_the_process_anything_you_want&gt;" -- start</pre><p name="653a" id="653a" class="graf graf--p graf-after--pre">Now even if you close the terminal and check the url in the browser, the app will be running. Sweet! For automatically running PM2 when the server restarts, issue the following command:</p><pre name="6bf4" id="6bf4" class="graf graf--pre graf-after--p">pm2 startup</pre><p name="6a20" id="6a20" class="graf graf--p graf-after--pre">This will output a script in the terminal which you need to run, copy the script that it outputs and run it in the terminal window. Now, save all the currently running processes so that they can be run again whenever PM2 restarts either manually or by a script with the following command:</p><pre name="e580" id="e580" class="graf graf--pre graf-after--p">pm2 save</pre><p name="e423" id="e423" class="graf graf--p graf-after--pre">Now you can try rebooting the instance and visit the url and see if the app works or not. To see a list of the currently active node processes with their process names, run <code class="markup--code markup--p-code">pm2 list</code> and to monitor any one of the processes run <code class="markup--code markup--p-code">pm2 monit</code>.</p><h3 name="2cce" id="2cce" class="graf graf--h3 graf-after--p">Move the app to port 80 (not&nbsp;really)</h3><p name="885e" id="885e" class="graf graf--p graf-after--h3">The URL for our app contains the port number 3000 which if you have surfed the web a lot will appear a bit out of the place because you donâ€™t usually see such numbers in the URLs, reason being the websites are generally served on the standard port 80 used for HTTP requests and browsers assume it by default.</p><p name="f243" id="f243" class="graf graf--p graf-after--p">Currently our node server is running on a publicly open port which is not a particularly brilliant idea as we are directly exposing the application server to internet traffic and also reducing performance by <a href="https://www.nginx.com/blog/5-performance-tips-for-node-js-applications/" data-href="https://www.nginx.com/blog/5-performance-tips-for-node-js-applications/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">not taking advantages</em></strong></a> of load balancing or serving static content efficiently.</p><p name="5263" id="5263" class="graf graf--p graf-after--p">A better way to manage this is to use Nginx as a reverse proxy server in front of all other application servers. It will act as an efficient web server routing multiple requests on port 80 to different application servers based on the requested domain or even route high volume internet traffic to the same domain on port 80 to multiple instances of the application server listening on different private ports to perform load balancing in case of application server overloading or crashing. Nginx also takes care of <a href="https://www.nginx.com/resources/glossary/reverse-proxy-server/" data-href="https://www.nginx.com/resources/glossary/reverse-proxy-server/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">SSL encryption</em></strong></a> instead of letting Node do all the work.</p><figure name="14a6" id="14a6" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 242px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 34.599999999999994%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded" data-image-id="1*NFejJ5lJR3nyRLqGicdGbw.png" data-width="742" data-height="257" data-is-featured="true" data-action="zoom" data-action-value="1*NFejJ5lJR3nyRLqGicdGbw.png" data-scroll="native"><img src="https://cdn-images-1.medium.com/freeze/max/38/1*NFejJ5lJR3nyRLqGicdGbw.png?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="25"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1000/1*NFejJ5lJR3nyRLqGicdGbw.png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1000/1*NFejJ5lJR3nyRLqGicdGbw.png"></noscript></div></div><figcaption class="imageCaption"><strong class="markup--strong markup--figure-strong">Setting up Nginx in front of the application servers. Image courtesy - </strong><a href="https://www.nginx.com/blog/5-performance-tips-for-node-js-applications/" data-href="https://www.nginx.com/blog/5-performance-tips-for-node-js-applications/" class="markup--anchor markup--figure-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--figure-strong">Floyd&nbsp;Smith</strong></a></figcaption></figure><p name="f727" id="f727" class="graf graf--p graf-after--figure">Letâ€™s install Nginx first:</p><pre name="f0a9" id="f0a9" class="graf graf--pre graf-after--p">sudo yum install nginx</pre><p name="8d1d" id="8d1d" class="graf graf--p graf-after--pre">and verify the installed version with <code class="markup--code markup--p-code">nginx -v</code>.</p><p name="b9f3" id="b9f3" class="graf graf--p graf-after--p">Open port 80 by adding another inbound rule to the security group.</p><figure name="4a81" id="4a81" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 253px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 36.1%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded" data-image-id="1*vEiEHoHc8Wpihh7DBDiffw.png" data-width="1003" data-height="362" data-action="zoom" data-action-value="1*vEiEHoHc8Wpihh7DBDiffw.png" data-scroll="native"><img src="https://cdn-images-1.medium.com/freeze/max/38/1*vEiEHoHc8Wpihh7DBDiffw.png?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="25"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1000/1*vEiEHoHc8Wpihh7DBDiffw.png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1000/1*vEiEHoHc8Wpihh7DBDiffw.png"></noscript></div></div><figcaption class="imageCaption"><strong class="markup--strong markup--figure-strong">Open port 80 for public&nbsp;access</strong></figcaption></figure><p name="9fb6" id="9fb6" class="graf graf--p graf-after--figure">Enter the public DNS or the public IP of your EC2 instance in the browser now without a port and you should see the default Nginx welcome page.</p><pre name="5fe0" id="5fe0" class="graf graf--pre graf-after--p">http://ec2-54-191-104-59.us-west-2.compute.amazonaws.com</pre><figure name="7c1d" id="7c1d" class="graf graf--figure graf-after--pre"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 210px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 30.099999999999998%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded" data-image-id="1*RbcJHpPp3yYQwjZWRTrYRQ.png" data-width="1297" data-height="390" data-action="zoom" data-action-value="1*RbcJHpPp3yYQwjZWRTrYRQ.png" data-scroll="native"><img src="https://cdn-images-1.medium.com/freeze/max/38/1*RbcJHpPp3yYQwjZWRTrYRQ.png?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="21"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1000/1*RbcJHpPp3yYQwjZWRTrYRQ.png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1000/1*RbcJHpPp3yYQwjZWRTrYRQ.png"></noscript></div></div><figcaption class="imageCaption"><strong class="markup--strong markup--figure-strong">The default Nginx welcome&nbsp;page</strong></figcaption></figure><p name="3d21" id="3d21" class="graf graf--p graf-after--figure">Now, we are not really going to move the app to listen on port 80, the app will still be running on port 3000. We will install Nginx in front of the application server, run it on port 80 so that it can intercept all internet traffic and route it to port 3000 where the required application server will be listening if the HTTP headers match (more details in the next article on serving the site on HTTPS). A nice explanation of why we should be doing this is available <a href="https://stackoverflow.com/a/16770780" data-href="https://stackoverflow.com/a/16770780" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">here</em></strong></a>.</p><p name="52b6" id="52b6" class="graf graf--p graf-after--p">To use port 80 to route requests to the application server on port 3000, we will edit the nginx configuration file&#8202;â€”&#8202;nginx.conf as follows.</p><p name="d95e" id="d95e" class="graf graf--p graf-after--p">Open the nginx.conf file with an editor in the terminal:</p><pre name="b242" id="b242" class="graf graf--pre graf-after--p">sudo nano /etc/nginx/nginx.conf</pre><p name="a65d" id="a65d" class="graf graf--p graf-after--pre">If thereâ€™s no server block listening on port 80, add one or change it if it already exists to look like this:</p><pre name="a60d" id="a60d" class="graf graf--pre graf-after--p">server {<br>   listen         80 default_server;<br>   listen         [::]:80 default_server;<br>   server_name    localhost;<br>   root           /usr/share/nginx/html;</pre><pre name="4b9c" id="4b9c" class="graf graf--pre graf-after--pre">   location / {<br>       proxy_pass http://127.0.0.1:3000;<br>       proxy_http_version 1.1;<br>       proxy_set_header Upgrade $http_upgrade;<br>       proxy_set_header Connection 'upgrade';<br>       proxy_set_header Host $host;<br>       proxy_cache_bypass $http_upgrade;<br>   }<br>}</pre><p name="bb1d" id="bb1d" class="graf graf--p graf-after--pre">Since we have a single server block listening on port 80, all traffic will be routed from here itself regardless of the value of the server_name directive. The location directive has been changed to point to the resource from where the content has to be served, in our case it is the node.js application server running on the private localhost IP 127.0.0.1 and port 3000. Ignore the other directives for now.</p><p name="8c94" id="8c94" class="graf graf--p graf-after--p">Save the configuration and restart the server with the following command:</p><pre name="4bd9" id="4bd9" class="graf graf--pre graf-after--p">sudo service nginx restart</pre><p name="0e8c" id="0e8c" class="graf graf--p graf-after--pre">You will now have all HTTP traffic available on port 80 forwarded to port 3000. You should close port 3000 to public access by removing it from the security group settings. Visit the URL again in the browser without the port and you will be able to see the app content now instead of the default Nginx welcome page.</p><h3 name="5258" id="5258" class="graf graf--h3 graf-after--p">Configure Nginx to autostart on instance&nbsp;reboot</h3><p name="e572" id="e572" class="graf graf--p graf-after--h3">Thereâ€™s just one last thing to take care of before we wrap up. We need to configure Nginx to start automatically if the instance is rebooted. Execute the following command to do this:</p><pre name="18d9" id="18d9" class="graf graf--pre graf-after--p">sudo chkconfig nginx on</pre><p name="61b5" id="61b5" class="graf graf--p graf-after--pre">You can close the session, reboot the instance and visit the URL again. You should see the app being served on port 80.</p><p name="4128" id="4128" class="graf graf--p graf-after--p graf--trailing">And now we are done! Pheww!!</p></div>
